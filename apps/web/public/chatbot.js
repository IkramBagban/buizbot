var BuizbotWidget=function(e,t){"use strict";
/**
   * @license lucide-react v0.484.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   */const a=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,a)=>a?a.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=(...e)=>e.filter(((e,t,a)=>Boolean(e)&&""!==e.trim()&&a.indexOf(e)===t)).join(" ").trim()
/**
   * @license lucide-react v0.484.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   */;var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
   * @license lucide-react v0.484.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   */const l=e.forwardRef((({color:t="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:c,...d},m)=>e.createElement("svg",{ref:m,...n,width:a,height:a,stroke:t,strokeWidth:r?24*Number(l)/Number(a):l,className:o("lucide",s),...d},[...c.map((([t,a])=>e.createElement(t,a))),...Array.isArray(i)?i:[i]]))),r=((t,n)=>{const r=e.forwardRef((({className:r,...s},i)=>{return e.createElement(l,{ref:i,iconNode:n,className:o(`lucide-${c=a(t),c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${t}`,r),...s});var c}));return r.displayName=a(t),r})("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);
/**
   * @license lucide-react v0.484.0 - ISC
   *
   * This source code is licensed under the ISC license.
   * See the LICENSE file in the root directory of this source tree.
   */!function(e,t){void 0===t&&(t={});var a=t.insertAt;if("undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===a&&o.firstChild?o.insertBefore(n,o.firstChild):o.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}('@import "tailwindcss";.glass{backdrop-filter:blur(10px);background:hsla(0,0%,100%,.05);border:1px solid hsla(0,0%,100%,.1)}@theme{--color-space-black:#0a0a0a;--color-neon-teal:#00f5d4;--color-electric-purple:#9b5de5}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes pulseGlow{0%,to{box-shadow:0 0 5px #00f5d4}50%{box-shadow:0 0 20px #00f5d4}}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}');const s=({wsUrl:t="ws://localhost:8080",chatbotId:a="test123"})=>{const[o,n]=e.useState(null),[l,s]=e.useState([]),[i,c]=e.useState(""),[d,m]=e.useState(!0),[u,p]=e.useState({email:"",name:""}),[f,g]=e.useState(!1);e.useEffect((()=>{const e=localStorage.getItem("buizbotUser");if(e){const t=JSON.parse(e);p(t),m(!0)}}),[]),e.useEffect((()=>{const e=new WebSocket(t);return e.onopen=()=>console.log("Socket connected"),e.onclose=()=>console.log("Socket connection closed"),e.onerror=()=>console.log("There is some error in socket connection"),e.onmessage=e=>{const t=JSON.parse(e.data);s((e=>[...e,t.message]))},n(e),()=>e.close()}),[t]);const h=()=>{if(!o||!i.trim()||!u.email)return console.log("Socket, message, or email missing");o.send(JSON.stringify({type:"CHAT",payload:{message:i,email:u.email,name:u.name}})),c("")};return e.createElement("div",{className:"fixed inset-0 w-screen h-screen pointer-events-none"},e.createElement("button",{onClick:()=>{if(!o)return console.log("Socket is null");m(!0),u.email||g(!0)},className:"pointer-events-auto absolute bottom-8 right-8 bg-[linear-gradient(to_right,#00f5d4,#9b5de5)] text-white px-6 py-3 rounded-full shadow-lg hover:scale-105 transition-transform duration-300 [animation:pulseGlow_1.5s_infinite]"},"Chat Now"),e.createElement("div",{className:"pointer-events-auto absolute bottom-16 right-8 w-[30rem] h-[35rem] glass rounded-xl shadow-2xl transition-all duration-500 "+(d?"opacity-100 scale-100":"opacity-0 scale-95 translate-y-10")},e.createElement("div",{className:"flex flex-col h-full bg-[rgba(10,10,10,0.9)]"},u.email?e.createElement("div",{className:"flex flex-col h-full"},e.createElement("div",{className:"flex-1 p-4 overflow-y-auto space-y-4"},l.map(((t,a)=>e.createElement("div",{key:a,className:"glass p-3 rounded-lg text-white [animation:slideUp_0.3s_ease-out]"},t)))),e.createElement("div",{className:"p-4 border-t border-[rgba(0,245,212,0.2)]"},e.createElement("div",{className:"flex items-center gap-3"},e.createElement("input",{type:"text",value:i,onChange:e=>c(e.target.value),onKeyPress:e=>"Enter"===e.key&&h(),placeholder:"Write a message...",className:"flex-1 glass text-white placeholder-gray-400 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00f5d4] transition-all duration-300"}),e.createElement("button",{onClick:h,className:"bg-[#00f5d4] text-[#0a0a0a] p-2 rounded-lg hover:bg-[#9b5de5] hover:text-white transition-colors duration-300 [animation:pulseGlow_1.5s_infinite]"},e.createElement(r,{size:20}))))):f?e.createElement("div",{className:"p-6 flex-1 flex flex-col justify-center space-y-4"},e.createElement("h2",{className:"text-xl text-[#00f5d4] text-center"},"Welcome! Letâ€™s get started."),e.createElement("form",{onSubmit:e=>{e.preventDefault(),u.email&&u.name&&(console.log("User Details:",{email:u.email,name:u.name}),localStorage.setItem("buizbotUser",JSON.stringify(u)),g(!1),o.send(JSON.stringify({type:"JOIN",payload:{email:u.email,name:u.name}})))},className:"space-y-4"},e.createElement("input",{type:"text",value:u.name,onChange:e=>p({...u,name:e.target.value}),placeholder:"Your name",className:"w-full p-3 glass text-white placeholder-gray-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00f5d4] transition-all duration-300",required:!0}),e.createElement("input",{type:"email",value:u.email,onChange:e=>p({...u,email:e.target.value}),placeholder:"Your email",className:"w-full p-3 glass text-white placeholder-gray-400 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00f5d4] transition-all duration-300",required:!0}),e.createElement("button",{type:"submit",className:"w-full bg-[#00f5d4] text-[#0a0a0a] p-3 rounded-lg hover:bg-[#9b5de5] hover:text-white transition-colors duration-300 [animation:pulseGlow_1.5s_infinite]"},"Start Chatting"))):e.createElement("div",{className:"p-6 flex-1 flex flex-col justify-center items-center"},e.createElement("button",{onClick:()=>g(!0),className:"bg-[linear-gradient(to_right,#00f5d4,#9b5de5)] text-white px-6 py-3 rounded-full shadow-lg hover:scale-105 transition-transform duration-300 [animation:pulseGlow_1.5s_infinite]"},"Chat Now")))))},i=a=>{const o=document.createElement("div");o.id="buizbot-chatbot",document.body.appendChild(o),t.render(e.createElement(s,{chatbotId:a}),o)};window.BuizbotWidget={init:i};const c=document.currentScript,d=new URLSearchParams(c.src.split("?")[1]).get("chatbotId");return d&&i(d),s}(React,ReactDOM);
//# sourceMappingURL=chatbot.js.map
